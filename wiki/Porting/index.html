
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Software Distribution and Building Platform for Windows">
      
      
      
        <link rel="canonical" href="https://www.msys2.org/wiki/Porting/">
      
      
        <link rel="prev" href="../MSYS2-reinstallation/">
      
      
        <link rel="next" href="../Setting-up-SSHd/">
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.4">
    
    
      
        <title>Porting - MSYS2</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.240905d7.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/fonts.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   
  
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="MSYS2 - Porting" />
<meta property="og:description" content="While in our humble opinions, MSYS2 makes collaborative, organised development of open-source software on Windows a workable proposition, there are a few things to be aware of that we commonly run into, mostly due to the design decisions made by Microsoft, our preference for using native tools and compilers rather than cross msys2-to-native ones and our wish to be as flexible as we can be." />

<meta property="og:url" content="https://www.msys2.org/wiki/Porting/" />
<meta property="og:image" content="https://www.msys2.org/logo.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="250" />
<meta property="og:image:height" content="250" />
<script type="application/ld+json">
  {
    "image": "https://www.msys2.org/logo.png",
    "@type": "WebSite",
    "headline": "MSYS2",
    "publisher": {
      "@type": "Organization",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.msys2.org/logo.png"
      }
    },
    "url": "https://www.msys2.org",
    "description": "Software Distribution and Building Platform for Windows",
    "name": "MSYS2",
    "@context": "https://schema.org"
  }
</script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#porting" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MSYS2" class="md-header__button md-logo" aria-label="MSYS2" data-md-component="logo">
      
  <img src="../../logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MSYS2
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Porting
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/msys2/msys2.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MSYS2" class="md-nav__button md-logo" aria-label="MSYS2" data-md-component="logo">
      
  <img src="../../logo.svg" alt="logo">

    </a>
    MSYS2
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/msys2/msys2.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../news/" class="md-nav__link">
        News
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://packages.msys2.org" class="md-nav__link">
        Package Index
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/what-is-msys2/" class="md-nav__link">
        What is MSYS2?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/who-is-using-msys2/" class="md-nav__link">
        Who Is Using MSYS2?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/environments/" class="md-nav__link">
        Environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/updating/" class="md-nav__link">
        Updating MSYS2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/ci/" class="md-nav__link">
        Using MSYS2 in CI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/terminals/" class="md-nav__link">
        Terminals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/ides-editors/" class="md-nav__link">
        IDEs and Text Editors
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
      
      
      
        <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
          Package Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_8">
          <span class="md-nav__icon md-icon"></span>
          Package Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-management/" class="md-nav__link">
        Package Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-naming/" class="md-nav__link">
        Package Naming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/repos-mirrors/" class="md-nav__link">
        Repositories and Mirrors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-management-tips/" class="md-nav__link">
        Tips and Tricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-management-faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/filesystem-paths/" class="md-nav__link">
        Filesystem Paths
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_10" >
      
      
      
        <label class="md-nav__link" for="__nav_4_10" id="__nav_4_10_label" tabindex="0">
          Languages & Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_10">
          <span class="md-nav__icon md-icon"></span>
          Languages & Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cmake/" class="md-nav__link">
        Using CMake in MSYS2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/autotools/" class="md-nav__link">
        Autotools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cpp/" class="md-nav__link">
        C++
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/windows_support/" class="md-nav__link">
        Supported Windows Versions and Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
          Packaging
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Packaging
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/new-package/" class="md-nav__link">
        Creating a new Package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/package-guidelines/" class="md-nav__link">
        Package Guidelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/package-licensing/" class="md-nav__link">
        License Metadata
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/mirrors/" class="md-nav__link">
        Mirrors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/keyring/" class="md-nav__link">
        MSYS2 Keyring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/build-process/" class="md-nav__link">
        Automated Build Process
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Other Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Other Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Home/" class="md-nav__link">
        Welcome to the MSYS2 wiki
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Accounts/" class="md-nav__link">
        Accounts and ownership
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Creating-Packages/" class="md-nav__link">
        Creating Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Devtopics/" class="md-nav__link">
        TODO LIST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Distributing/" class="md-nav__link">
        Distributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../GDB-qtcreator/" class="md-nav__link">
        Qt Creator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../History/" class="md-nav__link">
        MSYS2 History
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../How-does-MSYS2-differ-from-Cygwin/" class="md-nav__link">
        How does MSYS2 differ from Cygwin?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Launchers/" class="md-nav__link">
        Launchers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MSYS2-installation/" class="md-nav__link">
        MSYS2-Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MSYS2-introduction/" class="md-nav__link">
        MSYS2-Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MSYS2-reinstallation/" class="md-nav__link">
        Re-installing MSYS2
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Porting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Porting
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mingw32-make" class="md-nav__link">
    mingw32-make
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detecting-version-of-msys-from-gnu-make" class="md-nav__link">
    Detecting version of MSYS from GNU make
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#platform-checks" class="md-nav__link">
    Platform checks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filesystem-namespaces" class="md-nav__link">
    Filesystem namespaces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hard-coded-paths-and-relocation" class="md-nav__link">
    Hard-coded paths and relocation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c-printf-format-specifier-issues" class="md-nav__link">
    C *printf Format Specifier issues
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-size-of-struct-timeval" class="md-nav__link">
    Different size of struct timeval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-3264-bit-peculiarities" class="md-nav__link">
    More 32/64 bit peculiarities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calling-conventions-stdcall-and-autotools" class="md-nav__link">
    Calling conventions, stdcall, and autotools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macroinline-function-and-autotools" class="md-nav__link">
    Macro/inline function and autotools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guarded-time-functions-ansi-format-specifiers" class="md-nav__link">
    Guarded time functions, ANSI format specifiers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#undefined-references-and-linking-to-dllssos" class="md-nav__link">
    Undefined references and linking to DLLs/SOs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-prefixes" class="md-nav__link">
    Library prefixes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-streams-in-mintty" class="md-nav__link">
    Standard streams in mintty
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-files" class="md-nav__link">
    Response files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-floating-point-precision" class="md-nav__link">
    Setting floating point precision
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-parsing" class="md-nav__link">
    Command line parsing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-resources" class="md-nav__link">
    Other resources
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Setting-up-SSHd/" class="md-nav__link">
        Setting up SSHd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Signing-packages/" class="md-nav__link">
        Signing Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Sudo/" class="md-nav__link">
        Do you need Sudo?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Terminals/" class="md-nav__link">
        Terminals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../JIT-Debugging/" class="md-nav__link">
        Just-in-time Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../arm64/" class="md-nav__link">
        ARM64 Support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../get-involved/" class="md-nav__link">
        Get Involved
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../privacy/" class="md-nav__link">
        Privacy
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        Support & Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../codeofconduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mingw32-make" class="md-nav__link">
    mingw32-make
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detecting-version-of-msys-from-gnu-make" class="md-nav__link">
    Detecting version of MSYS from GNU make
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#platform-checks" class="md-nav__link">
    Platform checks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filesystem-namespaces" class="md-nav__link">
    Filesystem namespaces
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hard-coded-paths-and-relocation" class="md-nav__link">
    Hard-coded paths and relocation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c-printf-format-specifier-issues" class="md-nav__link">
    C *printf Format Specifier issues
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-size-of-struct-timeval" class="md-nav__link">
    Different size of struct timeval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more-3264-bit-peculiarities" class="md-nav__link">
    More 32/64 bit peculiarities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calling-conventions-stdcall-and-autotools" class="md-nav__link">
    Calling conventions, stdcall, and autotools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macroinline-function-and-autotools" class="md-nav__link">
    Macro/inline function and autotools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guarded-time-functions-ansi-format-specifiers" class="md-nav__link">
    Guarded time functions, ANSI format specifiers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#undefined-references-and-linking-to-dllssos" class="md-nav__link">
    Undefined references and linking to DLLs/SOs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-prefixes" class="md-nav__link">
    Library prefixes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-streams-in-mintty" class="md-nav__link">
    Standard streams in mintty
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-files" class="md-nav__link">
    Response files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-floating-point-precision" class="md-nav__link">
    Setting floating point precision
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-parsing" class="md-nav__link">
    Command line parsing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-resources" class="md-nav__link">
    Other resources
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/msys2/msys2.github.io/edit/source/web/wiki/Porting.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="porting">Porting</h1>
<p>While in our humble opinions, MSYS2 makes collaborative, organised development of open-source software on Windows a workable proposition, there are a few things to be aware of that we commonly run into, mostly due to the design decisions made by Microsoft, our preference for using native tools and compilers rather than cross msys2-to-native ones and our wish to be as flexible as we can be.</p>
<h2 id="mingw32-make">mingw32-make</h2>
<p>MSYS2 provides two versions of make, one in the <code>make</code> package and one in the <code>mingw-w64-{i686,x86_64}-make</code> packages. The latter one is called <code>mingw32-make</code> on command line, is fully native and doesn't depend on <code>msys2</code> shells. The downside is that it doesn't work with many <code>Makefile</code>s. Unless you know what you're doing, use the regular <code>make</code>.</p>
<h2 id="detecting-version-of-msys-from-gnu-make">Detecting version of MSYS from GNU make</h2>
<p>You can use the following <code>Makefile</code> snippet to detect whether you are running GNU make from an MSYS or an MSYS2 shell. If you run it through <code>mingw32-make.exe</code> from <code>cmd.exe</code> you will likely get an error since <code>uname</code> will not be found on your <code>PATH</code>. If you run it through <code>mingw32-make.exe</code> from one of the MSYS shells, it will set <code>msys_version</code> to 1 or 2 as appropriate. On any other system with <code>uname</code> present, it will set it to 0.</p>
<div class="highlight"><pre><span></span><code>msys_version := $(if $(findstring Msys, $(shell uname -o)),$(word 1, $(subst ., ,$(shell uname -r))),0)
$(info The version of MSYS you are running is $(msys_version) (0 meaning not MSYS at all))
</code></pre></div>
<h2 id="platform-checks">Platform checks</h2>
<p>You may need to use platform checks to switch between behaviour suited for MSYS2 and the default one. Some useful identifiers:</p>
<table>
<thead>
<tr>
<th>Identifier</th>
<th>Platform(s)</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_WIN32</code></td>
<td>mingw, msvc</td>
<td>C code (<code>#ifdef ...</code>)</td>
</tr>
<tr>
<td><code>_WIN64</code></td>
<td>64-bit mingw, 64-bit msvc</td>
<td>C code (<code>#ifdef ...</code>)</td>
</tr>
<tr>
<td><code>__CYGWIN__</code></td>
<td>msys2, cygwin</td>
<td>C code (<code>#ifdef ...</code>)</td>
</tr>
<tr>
<td><code>__MSYS__</code></td>
<td>msys2</td>
<td>C code (<code>#ifdef ...</code>)</td>
</tr>
<tr>
<td><code>x86_64-pc-msys2</code></td>
<td>64-bit msys2</td>
<td>Build scripts (<code>if [ $host = '...' ]</code>)</td>
</tr>
<tr>
<td><code>i686-pc-msys2</code></td>
<td>32-bit msys2</td>
<td>Build scripts (<code>if [ $host = '...' ]</code>)</td>
</tr>
<tr>
<td><code>x86_64-w64-mingw32</code></td>
<td>64-bit mingw</td>
<td>Build scripts (<code>if [ $host = '...' ]</code>)</td>
</tr>
<tr>
<td><code>i686-w64-mingw32</code></td>
<td>32-bit mingw</td>
<td>Build scripts (<code>if [ $host = '...' ]</code>)</td>
</tr>
<tr>
<td><code>cygwin</code></td>
<td>msys2</td>
<td>Python (<code>sys.platform</code>)</td>
</tr>
<tr>
<td><code>win32</code></td>
<td>mingw</td>
<td>Python (<code>sys.platform</code>)</td>
</tr>
</tbody>
</table>
<h2 id="filesystem-namespaces">Filesystem namespaces</h2>
<p>In MSYS2 there are two different filesystem namespaces in play. If you are building purely <code>msys2</code> software, you can ignore the Windows filesystem namespace entirely, however, when building native software using MSYS2's tools, you must be mindful that when <code>msys2</code> executes a native program, it will translate environment variables and command arguments from msys2-form to native-form. To do this, it converts things that <em>look</em> like <code>msys2</code> paths. Sometimes it gets this wrong, e.g.:</p>
<div class="codehilite"><pre><span></span><code>command.exe /switch
</code></pre></div>

<p>Explanation: <code>/switch</code> is a Windows style switch. Note that Windows programs commonly accept unambiguous dash-prefixed switches (<code>-switch</code>) as well.</p>
<div class="codehilite"><pre><span></span><code>adb push readme.txt /sdcard/0/
</code></pre></div>

<p>Explanation: <code>/sdcard/0/</code> is a path on a foreign system.</p>
<div class="codehilite"><pre><span></span><code>./configure --root=/
</code></pre></div>

<p>Explanation: The value of root (<code>/</code>) is emitted to a text file via echo (which is an <code>msys2</code> program and hence not mangled) and also to a <code>Makefile</code> (through autotools) which passes it to a native program, which reads the text file replacing each instance of <code>/</code> with "some-other-path". This will go wrong as <code>/</code> passed to the native program was converted to e.g. <code>C:/msys64/</code> and therefore the necessary substitutions did not happen. [last sentence needs review or rewording]</p>
<p>To work around this, path conversion can be selectively disabled. MSYS2 reads an environment variable called <code>MSYS2_ARG_CONV_EXCL</code>. This is a <code>;</code> delimited string each part of which is compared against the front part of each argument and if a match is found, that conversion is skipped. An example of a value for <code>MSYS2_ARG_CONV_EXCL</code> that would inhibit path transformations of the 3 cases above is <code>/switch;/sdcard;--root=</code>.</p>
<p>Setting <code>MSYS2_ARG_CONV_EXCL=*</code> prevents any path transformation.</p>
<p>The development repository for this path conversion code is <a href="https://github.com/Alexpux/path_convert">https://github.com/Alexpux/path_convert</a>. If you find a case that you think is unambiguously being converted incorrectly, please raise an issue there and/or a pull request with the broken test-case.</p>
<h2 id="hard-coded-paths-and-relocation">Hard-coded paths and relocation</h2>
<p>When installing MSYS2, the user selects the root folder. POSIX software has a habit of baking the installation paths into the packages at build time, which is okay for <code>msys2</code> software (which only sees the single-root virtual filesystem), but usually causes failures in native software. When a program tries to load its data files using these absolute paths on another MSYS2 installed to a different root folder, it won't find them. For this reason, adding path relocation patches is a common necessity for <code>mingw</code> packages (but never for <code>msys2</code> packages). The point is to find the path where the program's executable resides, cutting off the <code>/bin</code> from the end and finding all necessary files using paths relative to that. Since this is a pretty common task and is not exactly trivial to get it right for all cases, we wrote some re-usable C code for that, available at <a href="https://github.com/msys2/MINGW-packages/tree/master/mingw-w64-pathtools">https://github.com/msys2/MINGW-packages/tree/master/mingw-w64-pathtools</a>.</p>
<p>Sometimes these paths are baked into shell scripts or pkg-config's <code>.pc</code> files. In that case, you should use sed in the <code>PKGBUILD</code> <code>package()</code> function to correct this back to the <code>msys2</code> version of the path. [please review last sentence] An example of this can be seen at <a href="https://github.com/msys2/MINGW-packages/blob/e0280472a1912cfcd9e714f6e0d06c407326e0df/mingw-w64-libtool/PKGBUILD#L79">https://github.com/msys2/MINGW-packages/blob/e0280472a1912cfcd9e714f6e0d06c407326e0df/mingw-w64-libtool/PKGBUILD#L79</a>.</p>
<h2 id="c-printf-format-specifier-issues">C *printf Format Specifier issues</h2>
<p>The vc6.0 msvcrt.dll that MinGW-w64 targets doesn't implement support for the ANSI standard format specifiers. MinGW-w64 works around this by providing their own implementation. To enable this you should pass -D__USE_MINGW_ANSI_STDIO=1 to the MinGW-w64 C and C++ compilers. All of our C/C++ packages are built with this flag.</p>
<h2 id="different-size-of-struct-timeval">Different size of struct timeval</h2>
<p>The Windows (and thus mingw-w64) <code>struct timeval</code> is defined as having two <code>long</code> members, while the POSIX specs say it's supposed to have one <code>time_t</code> and one <code>suseconds_t</code> member. This means that on 64-bit, the size of the struct will be different from what you would expect on Linux/Cygwin/MSYS2.</p>
<p><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms740560(v=vs.85).aspx">struct timeval on MSDN</a>
<a href="http://pubs.opengroup.org/onlinepubs/007908775/xsh/systime.h.html">struct timeval on OpenGroup.org</a></p>
<h2 id="more-3264-bit-peculiarities">More 32/64 bit peculiarities</h2>
<p>Sorting out the stat thing by LRN:
<a href="https://archive.li/IsgPq">https://archive.li/IsgPq</a></p>
<p>(Original URL - now down: <code>https://gnunet.org/sorting-out-stat-thing</code>)</p>
<h2 id="calling-conventions-stdcall-and-autotools">Calling conventions, stdcall, and autotools</h2>
<p>Details about Windows' 32bit calling conventions:
<a href="http://www.willus.com/mingw/yongweiwu_stdcall.html">http://www.willus.com/mingw/yongweiwu_stdcall.html</a></p>
<p>Problems stdcall causes with autotool's AC_CHECK_FUNC and AC_SEARCH_LIBS:
<a href="http://lists.gnu.org/archive/html/autoconf/2013-05/msg00090.html">http://lists.gnu.org/archive/html/autoconf/2013-05/msg00090.html</a></p>
<h2 id="macroinline-function-and-autotools">Macro/inline function and autotools</h2>
<p><code>AC_CHECK_FUNCS</code> and friends can't deal with function macros and static inline functions (because the checking code tries to <code>#undef</code> the symbol, doesn't include any headers and declares the symbol as extern instead). Possible solution is replacing them with more elaborate checks using <code>AC_LINK_IFELSE</code> or <code>AC_COMPILE_IFELSE</code>. For example this:</p>
<div class="codehilite"><pre><span></span><code><span class="n">AC_CHECK_FUNCS</span><span class="p">(</span><span class="o">[</span><span class="n">localtime_r</span><span class="o">]</span><span class="p">,</span>
<span class="o">[</span><span class="n">AM_CONDITIONAL([HAVE_LOCALTIME_R</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)</span><span class="err">]</span><span class="p">,</span>
<span class="o">[</span><span class="n">AM_CONDITIONAL([HAVE_LOCALTIME_R</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">)</span><span class="err">]</span><span class="p">)</span>
</code></pre></div>

<p>... can be replaced with this:</p>
<div class="codehilite"><pre><span></span><code><span class="n">AC_MSG_CHECKING</span><span class="p">([</span><span class="k">for</span><span class="w"> </span><span class="n">localtime_r</span><span class="p">])</span>
<span class="n">AC_LINK_IFELSE</span><span class="p">([</span><span class="n">AC_LANG_PROGRAM</span><span class="p">([[</span>
<span class="w">  </span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;time.h&gt;</span>
<span class="p">]],</span><span class="w"> </span><span class="p">[[</span>
<span class="w">  </span><span class="kt">time_t</span><span class="w"> </span><span class="n">t</span><span class="p">;</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">tm</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="w">  </span><span class="n">localtime_r</span><span class="p">(</span><span class="o">&amp;</span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">r</span><span class="p">);</span>
<span class="p">]])],</span>
<span class="p">[</span><span class="n">AC_MSG_RESULT</span><span class="p">([</span><span class="n">yes</span><span class="p">])</span>
<span class="w"> </span><span class="n">AM_CONDITIONAL</span><span class="p">([</span><span class="n">HAVE_LOCALTIME_R</span><span class="p">],</span><span class="w"> </span><span class="nb">true</span><span class="p">)</span>
<span class="w"> </span><span class="n">AC_DEFINE</span><span class="p">([</span><span class="n">HAVE_LOCALTIME_R</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Define</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="n">localtime_r</span><span class="err">&#39;</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">macro</span><span class="p">.])],</span>
<span class="p">[</span><span class="n">AC_MSG_RESULT</span><span class="p">([</span><span class="n">no</span><span class="p">])</span>
<span class="w"> </span><span class="n">AM_CONDITIONAL</span><span class="p">([</span><span class="n">HAVE_LOCALTIME_R</span><span class="p">],</span><span class="w"> </span><span class="nb">false</span><span class="p">)])</span>
</code></pre></div>

<p>Don't forget to <code>autoreconf -fi</code> after patching <code>configure.ac</code>.</p>
<p>A tidy workaround from flameeyes for asprintf/vasprintf (but generally applicable):
<a href="https://mailman.videolan.org/pipermail/vlc-devel/2015-March/101802.html">https://mailman.videolan.org/pipermail/vlc-devel/2015-March/101802.html</a></p>
<h2 id="guarded-time-functions-ansi-format-specifiers">Guarded time functions, ANSI format specifiers</h2>
<p>Some things in mingw-w64 are (maybe unexpectedly) guarded by <code>#ifdef</code>s. Check out <code>_POSIX_C_SOURCE</code>, <code>__USE_MINGW_ANSI_STDIO</code>, the <code>time.h</code> file. Note that (at the time of writing) <code>pthread.h</code> contains some defines that affect the definitions in <code>time.h</code>.</p>
<h2 id="undefined-references-and-linking-to-dllssos">Undefined references and linking to DLLs/SOs</h2>
<p>[this section may contain misinformations; it needs review from a knowledgeable person]</p>
<p>Linux/ELF platforms generally don't do anything special to link to shared objects, they just leave the undefined references in the binary. Windows however requires all references to be resolved at link time. In case of DLLs, this is solved by the .dll.a import libraries that add the relevant .dll to the binary's import table and insert correct calls into the code, but it needs that correct linker flags be passed when linking binaries. Note that the linker is aware of these files and will use them automatically when using the standard <code>-l</code> arguments, for example <code>-lfoo</code> will make the linker check for <code>libfoo.dll.a</code> and <code>libfoo.a</code>, in this order (unless specified otherwise).</p>
<p>Libtool generally refuses to create DLLs unless <code>-no-undefined</code> is passed to the linker invocation (<code>library_la_LDFLAGS = -no-undefined</code>).
See: <a href="https://lists.gnu.org/archive/html/libtool/2007-04/msg00066.html">https://lists.gnu.org/archive/html/libtool/2007-04/msg00066.html</a></p>
<h2 id="library-prefixes">Library prefixes</h2>
<p><code>mingw</code> DLLs follow the convention of prefixing libraries with <code>lib</code>. This affects shared libraries (<code>.dll</code>), static object archives (<code>.a</code>), and DLL import libraries (<code>.dll.a</code>). Because <code>msys2</code> DLLs are generally ABI-incompatible with everything from outside of <code>msys2</code>, they are prefixed with <code>msys2-</code> instead. For completeness, we note that Cygwin DLLs are prefixed with <code>cyg</code>.</p>
<p>[does libtool or the linker handle this automatically?]</p>
<h2 id="standard-streams-in-mintty">Standard streams in mintty</h2>
<p>mintty is primarily designed to be a good terminal emulator (in the POSIX sense of the word) and it works well with bash, ssh and other Cygwin/MSYS2 programs. Because native Windows console programs use a fundamentally different way of handling console input/output, mintty uses pipes to connect to their standard streams (stdin, stdout, stderr). Unfortunately, this has the effect that <code>isatty</code> and similar APIs (used to check whether a stream is attached to an interactive console or a pipe/file) will return incorrect values for native programs running under mintty.</p>
<p>One way of fixing this problem is to run native programs inside a real Windows console, hide the console and use the console API to communicate with the program. This approach has obvious disadvantages, but it's good enough. Actually, this is the way most Windows console emulators work (e.g. ConsoleZ, ConEmu). There is also a wrapper program called winpty that does exactly this and translates the I/O to/from standard terminal sequences which mintty understands.</p>
<p>Running a program under winpty (by prefixing the command line with <code>winpty</code>) will make the program think it is running interactively, but it will also break any special features depending on terminal sequences, possibly including colored text output and TUIs.</p>
<p>MSYS2 includes wrappers for some affected programs, so that they will work correctly most of the time. Examples can be seen in packages containing REPLs (python3, lua, nodejs, ...).</p>
<p><a href="https://github.com/mintty/mintty/issues/56">mintty issue #56</a>, original <a href="http://code.google.com/p/mintty/issues/detail?id=56">on Google Code</a></p>
<p><a href="https://github.com/rprichard/winpty">winpty on GitHub</a></p>
<h2 id="response-files">Response files</h2>
<p>When passing arguments with absolute paths to native Windows programs (such as <code>/mingw64/bin/gcc</code>), these paths  get (in most cases) automatically converted by MSYS2 if they're in POSIX format. However, if you're passing these paths inside a file (e.g. a response file for GCC -- <code>gcc @somefile</code>), they need to be pre-converted to Windows native format.</p>
<p><a href="https://sourceforge.net/p/msys2/discussion/general/thread/b82485a3/">discussion topic: gcc -I (eye) uses msys2 path or windows path?</a></p>
<h2 id="setting-floating-point-precision">Setting floating point precision</h2>
<p>Floating point precision issues with multiple threads:
gfortran, open mp and floating point precision by Carl Kleffner:</p>
<ul>
<li><a href="https://sourceforge.net/p/mingw-w64/mailman/message/33332276/">https://sourceforge.net/p/mingw-w64/mailman/message/33332276/</a></li>
<li><a href="https://gcc.gnu.org/wiki/FloatingPointMath">https://gcc.gnu.org/wiki/FloatingPointMath</a></li>
<li><a href="https://gcc.gnu.org/wiki/x87note">https://gcc.gnu.org/wiki/x87note</a></li>
</ul>
<h2 id="command-line-parsing">Command line parsing</h2>
<p>Windows programs parse the command line themselves, it isn't parsed for them by the calling process, as on Linux. This means that if wildcards (glob patterns) are to be accepted by the program, it has to be able to expand them somehow. MinGW-w64 supplies the correct start-up code, so it happens automatically, in a manner compatible with MSVC-compiled programs. If undesirable, the behavior can be disabled at program build.</p>
<p>Cygwin/MSYS2 programs have to deal with a mix of both approaches, but they can apparently deal with it. Note that they don't behave exactly like native programs, for example they understand single-quoted arguments.</p>
<p><a href="http://www.daviddeley.com/autohotkey/parameters/parameters.htm">"How Command Line Parameters Are Parsed" by David Deley</a></p>
<p><a href="http://blogs.msdn.com/b/twistylittlepassagesallalike/archive/2011/04/23/everyone-quotes-arguments-the-wrong-way.aspx">"Everyone quotes command line arguments the wrong way" by Daniel Colascione</a></p>
<h2 id="other-resources">Other resources</h2>
<p>A collection of articles on general C and C++ topics.
<a href="http://locklessinc.com/articles/">http://locklessinc.com/articles/</a></p>
<p>The MinGW-w64 project's wiki.
<a href="http://sourceforge.net/p/mingw-w64/wiki2/browse_pages/">http://sourceforge.net/p/mingw-w64/wiki2/browse_pages/</a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/msys2" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/msys2org" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://fosstodon.org/@msys2org" target="_blank" rel="noopener me" title="fosstodon.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/jPQdRdDcT9" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "content.action.edit", "content.code.copy"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.19047be9.min.js"></script>
      
    
  </body>
</html>
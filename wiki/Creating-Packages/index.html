
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Software Distribution and Building Platform for Windows">
      
      
      
        <link rel="canonical" href="https://www.msys2.org/wiki/Creating-Packages/">
      
      
        <link rel="prev" href="../Home/">
      
      
        <link rel="next" href="../Devtopics/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>Creating Packages - MSYS2</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/fonts.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   
  
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="MSYS2 - Creating Packages" />
<meta property="og:description" content="The MSYS2 software distribution uses a port of Pacman (known from Arch Linux) to safely install, remove and update binary packages and also to build those packages in the first place." />

<meta property="og:url" content="https://www.msys2.org/wiki/Creating-Packages/" />
<meta property="og:image" content="https://www.msys2.org/logo.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="250" />
<meta property="og:image:height" content="250" />
<script type="application/ld+json">
  {
    "image": "https://www.msys2.org/logo.png",
    "@type": "WebSite",
    "headline": "MSYS2",
    "publisher": {
      "@type": "Organization",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.msys2.org/logo.png"
      }
    },
    "url": "https://www.msys2.org",
    "description": "Software Distribution and Building Platform for Windows",
    "name": "MSYS2",
    "@context": "https://schema.org"
  }
</script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-packages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MSYS2" class="md-header__button md-logo" aria-label="MSYS2" data-md-component="logo">
      
  <img src="../../logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MSYS2
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creating Packages
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/msys2/msys2.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MSYS2" class="md-nav__button md-logo" aria-label="MSYS2" data-md-component="logo">
      
  <img src="../../logo.svg" alt="logo">

    </a>
    MSYS2
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/msys2/msys2.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../news/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    News
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://packages.msys2.org" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/what-is-msys2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is MSYS2?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/who-is-using-msys2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Who Is Using MSYS2?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/environments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/updating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating MSYS2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using MSYS2 in CI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/terminals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/ides-editors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IDEs and Text Editors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/installer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSYS2 Installer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Package Management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            Package Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-naming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package Naming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/repos-mirrors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Repositories and Mirrors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-management-tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tips and Tricks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/package-management-faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/filesystem-paths/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filesystem Paths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration Locations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_12" >
        
          
          <label class="md-nav__link" for="__nav_4_12" id="__nav_4_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Languages & Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12">
            <span class="md-nav__icon md-icon"></span>
            Languages & Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cmake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using CMake in MSYS2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/autotools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autotools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/pkgconfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pkg-config
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/windows_support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Windows Versions and Hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Packaging
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Packaging
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/new-package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating a new Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/update-package/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating an existing Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/package-guidelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package Guidelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/package-licensing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License Metadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/pkgbuild/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PKGBUILD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/mirrors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mirrors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/keyring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSYS2 Keyring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/build-process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automated Build Process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accounts and Ownership
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Other Topics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Other Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to the MSYS2 wiki
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Creating Packages
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Creating Packages
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-information" class="md-nav__link">
    <span class="md-ellipsis">
      General information
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General information">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#package-recipes" class="md-nav__link">
    <span class="md-ellipsis">
      Package recipes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pkgbuild" class="md-nav__link">
    <span class="md-ellipsis">
      PKGBUILD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-files" class="md-nav__link">
    <span class="md-ellipsis">
      Patch files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    <span class="md-ellipsis">
      Building
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#re-building-a-package" class="md-nav__link">
    <span class="md-ellipsis">
      Re-building a package
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-new-package-from-start-to-finish" class="md-nav__link">
    <span class="md-ellipsis">
      A new package from start to finish
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A new package from start to finish">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#which-subsystem" class="md-nav__link">
    <span class="md-ellipsis">
      Which subsystem?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-software" class="md-nav__link">
    <span class="md-ellipsis">
      Build software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-software" class="md-nav__link">
    <span class="md-ellipsis">
      Test software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-software" class="md-nav__link">
    <span class="md-ellipsis">
      Patch software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recipe" class="md-nav__link">
    <span class="md-ellipsis">
      Recipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-package" class="md-nav__link">
    <span class="md-ellipsis">
      Build package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-package" class="md-nav__link">
    <span class="md-ellipsis">
      Install package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-package" class="md-nav__link">
    <span class="md-ellipsis">
      Test package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-package" class="md-nav__link">
    <span class="md-ellipsis">
      Modify package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commit" class="md-nav__link">
    <span class="md-ellipsis">
      Commit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-pr" class="md-nav__link">
    <span class="md-ellipsis">
      Send PR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check" class="md-nav__link">
    <span class="md-ellipsis">
      Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fix" class="md-nav__link">
    <span class="md-ellipsis">
      Fix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upstream" class="md-nav__link">
    <span class="md-ellipsis">
      Upstream
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#useful-packages-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Useful packages and tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#various-links" class="md-nav__link">
    <span class="md-ellipsis">
      Various links
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Devtopics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TODO LIST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Distributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../GDB-qtcreator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Qt Creator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../History/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSYS2 History
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../How-does-MSYS2-differ-from-Cygwin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How does MSYS2 differ from Cygwin?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Launchers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Launchers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MSYS2-installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSYS2-Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MSYS2-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSYS2-Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MSYS2-reinstallation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Re-installing MSYS2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Porting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Porting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Setting-up-SSHd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up SSHd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Signing-packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signing Packages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sudo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Do you need Sudo?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Terminals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../JIT-Debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Just-in-time Debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arm64/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARM64 Support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../get-involved/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get Involved
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../privacy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Privacy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support & Contact
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../codeofconduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-information" class="md-nav__link">
    <span class="md-ellipsis">
      General information
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General information">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#package-recipes" class="md-nav__link">
    <span class="md-ellipsis">
      Package recipes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pkgbuild" class="md-nav__link">
    <span class="md-ellipsis">
      PKGBUILD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-files" class="md-nav__link">
    <span class="md-ellipsis">
      Patch files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    <span class="md-ellipsis">
      Building
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#re-building-a-package" class="md-nav__link">
    <span class="md-ellipsis">
      Re-building a package
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-new-package-from-start-to-finish" class="md-nav__link">
    <span class="md-ellipsis">
      A new package from start to finish
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A new package from start to finish">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#which-subsystem" class="md-nav__link">
    <span class="md-ellipsis">
      Which subsystem?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-software" class="md-nav__link">
    <span class="md-ellipsis">
      Build software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-software" class="md-nav__link">
    <span class="md-ellipsis">
      Test software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-software" class="md-nav__link">
    <span class="md-ellipsis">
      Patch software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recipe" class="md-nav__link">
    <span class="md-ellipsis">
      Recipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-package" class="md-nav__link">
    <span class="md-ellipsis">
      Build package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-package" class="md-nav__link">
    <span class="md-ellipsis">
      Install package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-package" class="md-nav__link">
    <span class="md-ellipsis">
      Test package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-package" class="md-nav__link">
    <span class="md-ellipsis">
      Modify package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commit" class="md-nav__link">
    <span class="md-ellipsis">
      Commit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send-pr" class="md-nav__link">
    <span class="md-ellipsis">
      Send PR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check" class="md-nav__link">
    <span class="md-ellipsis">
      Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fix" class="md-nav__link">
    <span class="md-ellipsis">
      Fix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upstream" class="md-nav__link">
    <span class="md-ellipsis">
      Upstream
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#useful-packages-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Useful packages and tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#various-links" class="md-nav__link">
    <span class="md-ellipsis">
      Various links
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/msys2/msys2.github.io/edit/source/web/wiki/Creating-Packages.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="creating-packages">Creating Packages</h1>
<p>The MSYS2 software distribution uses a port of Pacman (known from Arch Linux) to safely install, remove and update binary packages and also to build those packages in the first place.</p>
<h2 id="general-information">General information</h2>
<p>There are 3 package repositories, <strong>msys</strong>, <strong>mingw32</strong>, and <strong>mingw64</strong>. <strong>msys</strong> software (from the <strong>msys</strong> repository) is software that depends on <code>msys-2.0.dll</code> and is very similar to Cygwin software (which is a POSIX emulation layer for Windows). Native Windows software (from this project's perspective) is software that doesn't depend on <code>msys-2.0.dll</code>, and links dynamically to the highly compatible <code>msvcrt.dll</code>.</p>
<p>In this document, to attempt to avoid confusion, MSYS2 refers to the software distribution while <strong>msys</strong> refers to the repository, the packages in that repository and the software in those packages that link to <code>msys-2.0.dll</code>.</p>
<h3 id="package-recipes">Package recipes</h3>
<p>Packages are built from programmatic recipes to ensure builds are reproducible. A recipe is a set of files which describe how to build, package and install a given piece of software; these are often specific to MSYS2.</p>
<p>In the simplest form it is a single file named <code>PKGBUILD</code>, which contains metadata for the package, a specification where the source for the given software can be found, and a few lines of code which that takes the source and builds the final software from it. For more complex cases it also contains install scripts or a number of patch files which are needed to be applied on the released version of the upstream software in order to be able to compile and work in the given environment.</p>
<p>Typically, each recipe is in its own directory. The directory is also used when building as a working place by default.</p>
<h3 id="pkgbuild">PKGBUILD</h3>
<p>Use 2 spaces for indentation: <code>expand -t 2 PKGBUILD &gt; PKGBUILD.new &amp;&amp; mv PKGBUILD.new PKGBUILD</code></p>
<p>A PKGBUILD is a bash script defining variables and functions that are then used by the build system to create the package. The <a href="https://www.archlinux.org/pacman/PKGBUILD.5.html">PKGBUILD manpage</a> and the <a href="https://wiki.archlinux.org/index.php/PKGBUILD">PKGBUILD wikipage on ArchWiki</a> are good sources to read about all the details of PKGBUILDs. The <strong>mingw</strong> PKGBUILDs are loosely based on the <a href="https://wiki.archlinux.org/index.php/MinGW_package_guidelines">mingw-w64 cross-compilation packages guidelines in Arch Linux</a>. If you don't want to read all that just yet, just read some existing PKGBUILDs; the purpose of most parts should be obvious.</p>
<h3 id="patch-files">Patch files</h3>
<p>When creating a patch file, you can use the following naming convention for its name: <code>###-target-Purpose.patch</code></p>
<p>Where</p>
<ul>
<li><code>###</code> a sequence number, starting from 001</li>
<li><code>target</code>, is the package name and version (separated by a hyphen) for which the patch was first created</li>
<li><code>[Purpose]</code> describes what the patch is fixing or improving</li>
</ul>
<h3 id="building">Building</h3>
<p>The actual build and packaging is done by running <code>makepkg</code> or <code>makepkg-mingw</code>. The former is used to build <strong>msys</strong> packages and the latter for <strong>mingw</strong> packages. To learn more, read the <a href="https://www.archlinux.org/pacman/makepkg.8.html">makepkg manpage</a> and the <a href="https://wiki.archlinux.org/index.php/makepkg">makepkg wikipage on ArchWiki</a>. When building <em>either</em> <strong>msys</strong> or native software, you should use the MSYS shell, not the MINGW{32,64} shells.</p>
<p>The process happens in multiple phases:</p>
<ul>
<li>download, verify and extract - the package sources are downloaded if necessary, checked against checksums and PGP signatures if specified, and extracted into a working directory (<code>src</code> by default)</li>
<li><code>prepare()</code> - using this function, the packager can specify what should happen with the sources before the actual build; apply patches and source modifications here</li>
<li><code>build()</code> - this function contains commands to run the build tool(s), e.g. <code>./configure</code> and <code>make</code></li>
<li><code>check()</code> - an optional step to check the build products by e.g. running the software's test suite</li>
<li><code>package()</code> - this function is provided with a temporary directory, where it should put the final contents of the package using e.g. <code>make install</code></li>
<li>tidy, archive and sign - the package contents are scanned for some issues, tidied up and packaged into the final <code>.tar.zst</code> with an optional signature in <code>.tar.zst.sig</code></li>
</ul>
<p>The makepkg tool takes arguments allowing you to turn off some phases or some checks. The typical usage is <code>makepkg -sCLf</code> for a full build and <code>makepkg -RdLf</code> for a "re-package". Re-packaging is useful when the process failed in <code>package()</code> and you don't want to run the long build part again. <code>makepkg-mingw</code> takes the same arguments.</p>
<h2 id="re-building-a-package">Re-building a package</h2>
<p>To get you started, you can try just re-building an existing package. This may also be helpful if you need to diagnose an issue and need the debugging symbols.</p>
<p>An example of fetching the <strong>msys</strong> repository source, building and then installing a package from it is:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">git</span><span class="w"> </span><span class="nx">clone</span><span class="w"> </span><span class="s">&quot;https://github.com/msys2/MSYS2-packages&quot;</span>
<span class="nx">cd</span><span class="w"> </span><span class="nx">MSYS2</span><span class="o">-</span><span class="nx">packages</span><span class="o">/</span><span class="nx">flex</span>
<span class="nx">makepkg</span><span class="w"> </span><span class="o">-</span><span class="nx">sCLf</span>
<span class="nx">pacman</span><span class="w"> </span><span class="o">-</span><span class="nx">U</span><span class="w"> </span><span class="nx">flex</span><span class="o">-*</span><span class="p">.</span><span class="nx">pkg</span><span class="p">.</span><span class="nx">tar</span><span class="p">.</span><span class="nx">zst</span>
</code></pre></div>

<p>An example of fetching the <strong>mingw</strong> repository source, building and then installing a package from it is:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">git</span><span class="w"> </span><span class="nx">clone</span><span class="w"> </span><span class="s">&quot;https://github.com/msys2/MINGW-packages&quot;</span>
<span class="nx">cd</span><span class="w"> </span><span class="nx">MINGW</span><span class="o">-</span><span class="nx">packages</span><span class="o">/</span><span class="nx">mingw</span><span class="o">-</span><span class="nx">w64</span><span class="o">-</span><span class="nx">python3</span>
<span class="nx">makepkg</span><span class="o">-</span><span class="nx">mingw</span><span class="w"> </span><span class="o">-</span><span class="nx">sCLf</span>
<span class="nx">pacman</span><span class="w"> </span><span class="o">-</span><span class="nx">U</span><span class="w"> </span><span class="nx">mingw</span><span class="o">-</span><span class="nx">w64</span><span class="o">-*-</span><span class="nx">python3</span><span class="o">-*-</span><span class="nx">any</span><span class="p">.</span><span class="nx">pkg</span><span class="p">.</span><span class="nx">tar</span><span class="p">.</span><span class="nx">zst</span>
</code></pre></div>

<h2 id="a-new-package-from-start-to-finish">A new package from start to finish</h2>
<p>Please do <em>not</em> create pull requests for PKGBUILDs that just repackage binary releases from other projects. This is contrary to the goals of MSYS2. If the software cannot be built for some reason then try to fix the cause of that.</p>
<ol>
<li>Decide which subsystem to target (<strong>msys</strong> or <strong>mingw</strong>)</li>
<li>Build the software in the target subsystem</li>
<li>Test the functionality</li>
<li>Create patches if necessary and repeat</li>
<li>Prepare a recipe</li>
<li>Build the package</li>
<li>Install the package locally</li>
<li>Test the installed package</li>
<li>Modify the recipe if necessary and repeat</li>
<li>Commit the new package to the target repository (on your own GitHub account)</li>
<li>Send a pull request to merge the new recipe into the official repository</li>
<li>Check CI results, reviews and comments</li>
<li>Fix issues if necessary and repeat</li>
<li>Offer your fixes to the software's developers (upstream)</li>
</ol>
<p>The steps above describe an intuitive process of going from the idea of creating a package to making it available to you and others using <code>pacman</code>. You can of course customize the process to suit you and your situation.</p>
<p>Once you are familiar with the process, we recommend creating recipes and using <code>makepkg</code> straight away for all packages. It's a great way to record your build steps in a reproducible way, which is not only useful for you, but also for other people when asked for help with the builds.</p>
<h3 id="which-subsystem">Which subsystem?</h3>
<p>In MSYS2 there are 2 types of packages:</p>
<ul>
<li><strong>msys packages</strong> - these run on the emulation layer and are typically POSIX-only programs</li>
<li><strong>mingw packages</strong> - these run natively just like any other Windows program</li>
</ul>
<p>You should think of these two systems as separate where <strong>msys</strong> packages should generally only be build dependencies of <strong>mingw</strong> packages. You also can't link a <strong>mingw</strong> program against an <strong>msys</strong> library.</p>
<p>This means you first need to decide which subsystem (and which repository) is the right one for your new package. The set of things that belong to the <strong>msys</strong> subsystem is pretty small:</p>
<ul>
<li>essential POSIX stuff: <code>filesystem</code>, <code>msys2-runtime</code>, ...</li>
<li>the native toolchain: <code>gcc</code>, <code>binutils</code>, <code>gdb</code>, ...</li>
<li>supporting programs that are hard to port to Windows: <code>pacman</code>, <code>bash</code>, <code>automake</code>, <code>make</code>, ...</li>
<li>programs for bridging the gap: <code>mintty</code>, <code>winpty</code>, ...</li>
<li>supporting programs, even though they're portable: <code>python</code>, <code>man</code>, <code>vim</code>, <code>git</code>, ...</li>
<li>carefully chosen useful tools: <code>mc</code>, <code>ssh</code>, <code>rsync</code>, <code>lftp</code>, ...</li>
<li>dependencies of these packages</li>
</ul>
<p>In other words, if a program is needed to build native software, but is itself hard to port, it can be made into an <strong>msys</strong> package. Anything else needs to be done as a <strong>mingw</strong> package or vetted individually.</p>
<h3 id="build-software">Build software</h3>
<p>In order to be able to compile a software or build a package you need to install
basic packages by installing <code>base-devel</code>, as the MSYS2 install does not contain
build tools.</p>
<p>If you don't install the required package, building might fail with unexpected
errors.</p>
<p>Note that -- contrary to what you might expect -- <code>base-devel</code> doesn't contain
<code>gcc</code> nor <code>binutils</code>.</p>
<h3 id="test-software">Test software</h3>
<p>Check that the software does what it should. Try its test suite.</p>
<h3 id="patch-software">Patch software</h3>
<p>If the software doesn't work straight away or doesn't even build, you'll probably need to pass some arguments to the build scripts or modify (patch) its build system, its source code, its definitions files etc. Such patches will be stored as files alongside the PKGBUILD.</p>
<p>This part is very specific to each software and may require searching the Internet, talking to the software's developers or support team, talking to us etc. The <a href="../Porting/">Porting wikipage</a> may help with some common issues. While it is probably okay to make quick (monkey-)patches that fix the software for our use case (and possibly break it for every other), is it better to make proper surgical-precision patches and attempt to have them accepted by the software developer ("upstream").</p>
<h3 id="recipe">Recipe</h3>
<p>Create a <code>PKGBUILD</code> describing all the steps necessary to build and package the software, including any patches or additional files. Make sure the follow the style and ideas of other recipes if applicable. A good strategy is to find some existing working recipes that use the same build system as your software does and use them as a template for your recipe. You can also take inspiration from an official Arch Linux (or unofficial AUR) recipe for your software.</p>
<h3 id="build-package">Build package</h3>
<p>Run the makepkg command (<code>makepkg</code> or <code>makepkg-mingw</code>) on your recipe.</p>
<p><code>makepkg-mingw</code> is essentially a wrapper that does a few checks, sets up the correct environments and runs <code>makepkg</code> twice, once for <strong>mingw32</strong> and once for <strong>mingw64</strong>. If you want to build just for one architecture (e.g. if you're on 32-bit Windows), you'll need to define <code>MINGW_ARCH</code> in the environment, with either <code>mingw32</code> or <code>mingw64</code> as the value, for example:</p>
<div class="codehilite"><pre><span></span><code>MINGW_ARCH=mingw64 makepkg-mingw -sCLf
</code></pre></div>

<p>... or you could export it from <code>~/.profile</code> so it's set up automatically:</p>
<div class="codehilite"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">MINGW_ARCH</span><span class="o">=</span><span class="n">mingw64</span>
</code></pre></div>

<p>Note that if you want to contribute, we'd appreciate it if you test your packages on both architectures (32 and 64 bits), which is only possible on a 64-bit Windows system. If you can't do that for some reason, we can test your pull requests on a 64-bit system.</p>
<h3 id="install-package">Install package</h3>
<p>If the package build successfully, it's good to check its contents first before installing to see if it contains what you intended. When installing (using <code>pacman -U pkgname-pkgver-arch.tar.zst</code>), pacman checks for any filesystem conflicts and then places the package contents into your MSYS2 root as it would do with any other package. You can also remove the package using <code>pacman -R pkgname</code>.</p>
<h3 id="test-package">Test package</h3>
<p>Make sure the package installed all the files which it's supposed to distribute: executables, shared and static libraries, configuration files, header files, licenses, documentation etc.</p>
<p>Pay special attention to the configuration files and make sure they are not containing hard-coded path elements and are pointing to the right location. Typical config files:</p>
<ul>
<li><code>*-config</code> files in the <code>${prefix}/bin</code> directory</li>
<li><code>*.pc</code> files for <code>pkg-config</code> in the <code>${prefix}/lib/pkgconfig</code> directory</li>
<li><code>*.cmake</code> files in the <code>${prefix}/lib/cmake</code> directory</li>
</ul>
<p>Verify that the package works even if installed into a clean updated MSYS2 installation, preferably not in the default <code>C:\msys{32,64}</code> location (and maybe even temporarily rename your primary MSYS2 installation root). This checks that you specified the runtime dependencies correctly and that the software doesn't try to use hard-coded paths from your build.</p>
<h3 id="modify-package">Modify package</h3>
<p>If there are issues, fix them in your PKGBUILD and re-build or re-package as necessary. Make sure you're not using stale build products or source files from a previous build (use the <code>-C</code> flag for makepkg).</p>
<h3 id="commit">Commit</h3>
<p>Integrate your recipe into your local clone of the <strong>msys2-packages</strong> or <strong>mingw-packages</strong> repository. In order to help us avoid accumulating useless commits in the repository, please follow these guidelines:</p>
<ul>
<li>create a new branch for your work</li>
<li>put all your work into it, preferably in just 1 commit</li>
<li>if you want to pull changes from our repository, use the rebasing strategy (<code>git pull --rebase</code>) to place your commits above ours, do not just merge</li>
<li>if you need to change something in your recipe, amend your existing commit (<code>git commit --amend</code>)</li>
<li>push your new branch onto your repository "fork" on your GitHub account, using <code>git push --force-with-lease</code> if necessary</li>
</ul>
<p>Although these guidelines (which rely heavily on rewriting history) are not suitable for public development on main branches (<code>master</code> etc.), they're an excellent match for this kind the iterative work-in-progress development that happens when contributing new packages.</p>
<h3 id="send-pr">Send PR</h3>
<p>Open and send a pull request against the master branch of the official repositories on GitHub (<a href="https://github.com/msys2/msys2">links here</a>). Please include a short description of what you're submitting and why. In case your recipe is not final yet, add "[do not merge]" to the title and explain in the description.</p>
<h3 id="check">Check</h3>
<p>Our CI systems will automatically try to build your package. If it fails, try to figure out why. However, the CI systems are not perfect and unfortunately may fail even if your package is fine.</p>
<p>The project maintainers will try to look at your PR and review it. This may take some time and sometimes happens in bursts, so don't be discouraged if you get no response for a few days, but don't be afraid to explicitly ask for help or a review on our IRC channel.</p>
<h3 id="fix">Fix</h3>
<p>If there are any issues pointed out, try to fix them and update your pull request. GitHub will automatically refresh the pull request when you push to your branch, there is no need to create a new PR. After pushing, add a comment to the PR to notify the reviewers.</p>
<p>If there are no issues with the package, it will be merged. Please note that this doesn't make the package immediately available through pacman. The binary repositories are updated in bursts.</p>
<h3 id="upstream">Upstream</h3>
<p>In case you had to made changes in order to be able to compile and run properly (and hence created patches), please make an effort to submit proper patches and PRs to the upstream project so that the patches can be removed from our repositories and can be of use to other Windows developers.</p>
<h2 id="resources">Resources</h2>
<p>Read through our wiki, especially the <a href="../Porting/">Porting section</a>.</p>
<h3 id="useful-packages-and-tools">Useful packages and tools</h3>
<table>
<thead>
<tr>
<th>Package</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mingw-w64-{i686,x86_64}-qt-creator</code></td>
<td>to build/debug qmake, qbs, autotools and cmake based packages</td>
</tr>
<tr>
<td><code>mingw-w64-{i686,x86_64}-codelite</code></td>
<td>if you dislike qt-creator</td>
</tr>
<tr>
<td><code>mingw-w64-{i686,x86_64}-gedit</code></td>
<td>to avoid notepad and notepad++</td>
</tr>
<tr>
<td><code>mingw-w64-{i686,x86_64}-meld3</code></td>
<td>to compare files and directories</td>
</tr>
<tr>
<td><code>perl-ack</code></td>
<td>Faster, better replacement for <code>grep</code></td>
</tr>
<tr>
<td><code>mingw-w64-{i686,x86_64}-ag</code></td>
<td>Very fast replacement for <code>grep</code> or <code>perl-ack</code></td>
</tr>
</tbody>
</table>
<h3 id="various-links">Various links</h3>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/bash">bash on ArchWiki</a></li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/msys2" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/msys2org" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://fosstodon.org/@msys2org" target="_blank" rel="noopener me" title="fosstodon.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/jPQdRdDcT9" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "content.action.edit", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>